<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Doc - MicroAlg</title>
        <meta name="description"
              content="Tutoriel en ligne pour MicroAlg." />
        <meta name="keywords" content="microalg, algo, algorithme, algorithmique, lisp, environnement" />
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="web/jquery.min.js"><\/script>')</script>
        <script src="web/showdown.js"></script>
        <script src="web/showup.js"></script>
        <link type="text/css" href="web/showup.css" rel="stylesheet" />
        <script src="emulisp/int.js" type="text/javascript"></script>
        <script src="emulisp/emulisp_core.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="web/style.css" />
        <script type="text/javascript" src="web/ide_injections.js"></script>
        <link rel="stylesheet" type="text/css" href="web/parenedit.css" />
    </head>
    <body class="microalg doc">
        <div class="navbar">
            <a href="./">Accueil</a> :
            <a href="#top">Haut de page</a>
        </div>
        <noscript>
            <div style="color:#CC0000; text-align:center">
            Besoin de JavaScript pour afficher certaines listes.
            </div>
        </noscript>
        <script>EMULISP_CORE.loadLisp("microalg.l");</script>
        <script type="text/markdown">
<!--
<div id="top"></div>

# MicroAlg - Documentation

Aller directement à :

* [Installation](#installation)
* [Pourquoi MicroAlg](#pourquoimicroalg)
* [Limitations](#limitations)
* [Syntaxe](#syntaxe) - [Forme de Backus-Naur](#formedebackusnaur)
* [Liste des symboles prédéfinis](#listedessymbolesprdfinis)
* [Types](#types)
* [Aide sur les messages d’erreur](#aidesurlesmessagesderreur)
* [Abréviations](#abrviations)
* [Export](#export)
    * [Limitations](#limitations)
    * [Fonctionnement](#fonctionnementdelexport)
* [Feuille de route](#feuillederoute)
* [Contribuer](#contribuer)
* [Architecture](#architecture)
* [Intégrations](#intgrations)
    * [Navigateur](#navigateur)
    * [SciTE](#scite)
    * [Vim](#vim)
    * [Blockly](#blockly)
    * [Sortie graphique](#sortiegraphique) avec Processing
        * [Tortue](#tortue)
        * [Fonctionnement](#communicationavecprocessing)
* [Remerciements](#remerciements)

## Avertissement

Que vous soyez débutant ou expert en informatique ou même en programmation,
cette page n’est pas idéale pour apprendre à utiliser MicroAlg. Voir plutôt le
[tutoriel officiel](tuto.html).

## Installation

Voir le fichier [INSTALL.md](https://github.com/Microalg/Microalg/blob/latest/INSTALL.md).

## Pourquoi MicroAlg ?

Suite à une formation suivie pour enseigner ISN, j’ai décidé vers le printemps
2012 de me lancer dans un outil pédagogique pour l’algorithmique. Après deux ans
de profonde réflexion puis de maturation en tiroir, le
[dépôt GitHub](https://github.com/Microalg/Microalg), sorte de quartier général
du projet, est créé fin mars 2014. Suivront :

* le [site officiel](http://microalg.info) et
  [son dépôt](https://github.com/Microalg/microalg.github.io),
* le [compte Twitter](https://twitter.com/microalg).

## Limitations

MicroAlg est encore jeune et il manque encore des choses importantes avant
qu’elle ne soit considérée comme complète :

### Messages d’erreur

#### Non traduits

Les messages d’erreurs ne sont pas encore tous très clairs, voire même pas
encore tous en français. J’attends que les instructions `throw` et `catch`
soient implémentées dans EmuLisp.

#### Numéro de ligne

Dans les versions JavaScript (et donc dans le navigateur), le numéro de la ligne
où l’erreur a eu lieu n’est pour l’instant pas connu.

Dans les autres versions, le numéro de ligne donné en cas d’erreur pointe vers
l’expression la plus extérieure, ce qui est insuffisant quand par exemple
l’erreur a eu lieu dans un `Tant_que` assez volumineux.

### Retour de fonction non interruptif

La commande `Retourner` n’interrompt pas la commande en cours. Voir
[ici](tuto.html#script-bug-retourner) une illustration du problème.

Il est tout de même possible de contourner le problème en se débrouillant pour
placer la commande `Retourner` à la toute fin de la commande à définir.

### Nombres

*EN BREF*  
Les nombres sont gérés différemments selon la façon dont vous utilisez
MicroAlg.

Dans une certaine configuration de l’éditeur de texte, il n’y a que des nombres
entiers, pas de nombres à virgule.

Par défaut cependant, que ce soit dans le navigateur ou dans la configuration
par défaut de l’éditeur de texte, MicroAlg travaille avec des
<a href="http://fr.wikipedia.org/wiki/Virgule_flottante" class="wp">nombres
flottants</a>.

*EN DÉTAILS*  
Dans les versions reposant sur JavaScript, c’est-à-dire dans le navigateur mais
aussi hors web grâce à
<a href="https://developer.mozilla.org/fr/docs/Rhino" class="offi">Rhino</a> ou
<a href="http://fr.wikipedia.org/wiki/Node.js" class="wp">NodeJS</a>,
MicroAlg travaille avec des
<a href="http://fr.wikipedia.org/wiki/Virgule_flottante" class="wp">nombres
flottants</a>. C’est plutôt appréciable, sauf que dans les autres versions
(celles reposant sur PicoLisp ou Ersatz), ça ne sera pas possible directement
(voir la documentation officielle de PicoLisp sur les nombres :
[ici](http://www.software-lab.de/doc/ref.html#number) et
[là](http://www.software-lab.de/doc/ref.html#num-io)).

### Boucles POUR

Il n’y a pas de commande `Pour` en MicroAlg. Deux raisons à cela :

1. C’est une façon de penser que l’être humain n’utilise que très rarement.
   Rares sont les situations de la vie de tous les jours où notre cerveau
   garde une trace du numéro de l’itération courante. Le `Tant_que` est
   bien plus naturel.
2. Ne pas inclure de commande `Pour` permet de simplifier grandement le
   langage. D’une part, c’est déjà une commande en moins. Et d’autre part,
   si la commande `Pour` devait exister, il faudrait spécifier **le nombre
   de départ**, **l’incrément**, et **le nombre d’arrivée** (qui selon le
   nombre de départ et l’incrément sera passé en revue *ou non*), ce qui
   peut vite devenir inélégant. Un `Tant_que` muni d’un compteur est bien
   plus explicite et totalement équivalent.

### Saisie utilisateur avec SciTE

Si vous utilisez SciTE sous autre chose que Windows, pas moyen de faire
en sorte que `(Demander)` attende l’utilisateur.

## Syntaxe

### Instructions

* Un *programme* est constitué d’une ou plusieurs *instructions*.
* Une *instruction* est constituée de parenthèses, contenant une *commande* et
  ses *arguments* :  
  `(Commande arg1 arg2 ...)`
* Les séparateurs possibles sont :
    * l’espace,
    * le retour à la ligne,
    * la tabulation (déconseillée).
* C’est absolument universel dans MicroAlg. Même les commentaires sont de cette
  forme :  
  `(!!! "Ceci est un commentaire")`
* Si une *commande* ne prend pas d’*argument*, on écrira simplement :  
  `(Commande)`  
  C’est assez rare, les seules commandes qui n’ont pas de paramètre sont
  `BC`, `LC`, `Demander`, `Demander_un_nombre` et `Millisecondes`. De plus,
  le paramètre de `TG` et de `TD` (l’angle) est facultatif.
* Les *instructions* peuvent être imbriquées. En effet, dans une *instruction*,
  un des *arguments* d’une *commande* peut être remplacé par une autre
  *instruction* :  
  `(Commande2 (Commande1 arg1 arg2 ...) arg3 ...)`  
  Un environnement MicroAlg doit colorer les parenthèses selon leur profondeur :
  <span class="paren_1">(</span> <span class="paren_2">(</span> <span class="paren_3">(</span> <span class="paren_4">(</span> <span class="paren_5">(</span> <span class="paren_6">(</span> <span class="paren_0">(</span> <span class="paren_0">)</span> <span class="paren_6">)</span> <span class="paren_5">)</span> <span class="paren_4">)</span> <span class="paren_3">)</span> <span class="paren_2">)</span> <span class="paren_1">)</span>.
* L’ordre de traitement est un parcours en profondeur suffixe de l’arbre
  défini par la position des parenthèses :
    * Ce que l’on appelle *ordre d’apparition* désignera l’ordre de lecture
      habituel : de gauche à droite puis de haut en bas.
    * Les instructions sont traitées dans l’ordre de leur apparition.
    * Chaque commande évalue si besoin ses arguments dans l’ordre de leur
      apparition, avant même d’effectuer un quelconque traitement.
    * Pour les commandes imbriquées, c’est donc la commande qui est à le plus à
      l’intérieur qui est exécutée en premier.
    * Exemple : si on considère
      <span class="paren_1">(</span>F <span class="paren_2">(</span>B A <span class="paren_3">(</span>D C <span class="paren_4">(</span>E<span class="paren_4">)</span><span class="paren_3">)</span><span class="paren_2">)</span> <span class="paren_2">(</span>G <span class="paren_3">(</span>I H<span class="paren_3">)</span><span class="paren_2">)</span><span class="paren_1">)</span>,  
      l’ordre d’exécution est donné par le passage de la flèche en pointillés
      sur les points noirs dans le diagramme suivant, ce qui donne :
      A, C, E, D, B, H, I, G et finalement F.  
      <img width="256" alt="parcours en profondeur suffixe"
           src="visuels/Sorted_binary_tree_postorder.svg"/>
      Source : <a title="Public domain, via Wikimedia Commons"
      href="https://commons.wikimedia.org/wiki/File%3ASorted_binary_tree_postorder.svg">Wikimedia Commons</a>
* Les symboles (noms de variables ou commandes) ne peuvent pas contenir les
  caractères suivants :  
  `"` `'` `(` `)` `,` `[` `]` `` ` `~` `{` `}`.  
  Le point peut être utilisé dans un symbole, mais pas tout seul.

<div id="trucs-syntaxe"></div>
Quelques « trucs » :

* Si l’indentation est respectée :
    * les parenthèses en début de ligne (ouvrantes ou fermantes) seront toujours rouges ;
    * les parenthèses correspondantes n’étant pas sur la même ligne mais
      alignées verticalement seront de la même couleur.
* On ne trouvera jamais deux parenthèses ouvrantes de suite.

### Forme de Backus-Naur

Voir l’article <a href="https://fr.wikipedia.org/wiki/Forme_de_Backus-Naur"
                  class="wp">Forme de Backus-Naur</a> sur Wikipedia.

* `« description en français »` désigne une description en français.
* `::=` est le méta-symbole de la définition.
* `<x>` désigne le symbole non terminal `x`.
* Les symboles terminaux du langage MicroAlg sont entre guillemets simples :  
  `'('`, `')'`, `' '` (espace) et `'"'`. Le retour à la ligne a été omis mais
  peut jouer le rôle de l’espace, ainsi que la succession d’espaces et/ou de
  retours à la ligne.
* `x` désigne le symbole terminal `x` pour certains symboles terminaux. En
  effet, par soucis de lisibilité, les mots-clefs n’ont pas été mis entre
  guillemets simples.
* `{ « contenu des accolades » }` désigne zéro, un ou plusieurs éléments
  décrits par le contenu des accolades.
* `|` est le méta-symbole de l’alternative.
* `…` est le méta-symbole qui désigne une ellipse. Il sert uniquement à éviter
  d’énoncer la totalité des commandes de MicroAlg dans la version simplifiée.
  Elles sont détaillées dans la version… détaillée.

#### Version simplifiée

Cette version ne fait pas apparaître les contraintes sur les arguments attendus
ou retournés par les commandes.

      <programme>  ::= { <instruction> }
    <instruction>  ::= '(' <commande> { ' ' <argument> } ')'
       <commande>  ::= + | - | * | … | Affecter_a | Afficher | …
       <argument>  ::= <valeur> | <instruction> | <mot-clef-intermédiaire>
         <valeur>  ::= <nombre> | <texte> | <booleen> | <variable> | Rien
         <nombre>  ::= « un nombre (le séparateur décimal étant le point) »
          <texte>  ::= '"' « une chaîne de caractères » '"'
        <booleen>  ::= Vrai | Faux
       <variable>  ::= « caractères alphanum. sauf espace » | <var_spéciale>
    <var_spéciale> ::= credit_iterations | sequence_tirages@ | valeur_utilisateur
    <mot-clef_intermédiaire> ::=
        Alors | Sinon | Faire | Tant_que | Fois | En_position | De_type

#### Version détaillée

Nous allons détailler les instructions et les arguments qui peuvent leur être
associés. On reprend la signification des symboles de la version précédente
avec deux modifications :

* On ajoute deux méta-symboles, les parenthèses :
    * `|` est toujours le méta-symbole de l’alternative,
    * mais des parenthèses `(` et  `)` peuvent servir à la délimiter.
* Des symboles du langage MicroAlg sont mis entre guillemets simples dans un
  soucis de clarté. Ils ne participent pas à la syntaxe car ce sont des
  commandes :
    * `=`, `=/`, `<`, `<=`, `>` et `>=`,
    * `+`, `-`, `*`, `/`, `%` et `^`,
    * `?`.

&nbsp;

    <programme>   ::= { <instruction> }
      <type>      ::= "nombre" | "texte" | "booleen" | "liste" | "rien" |
                      '(' Type <instr_valeur> ')'
      <valeur>    ::= <nombre> | <texte> | <booleen> | <variable> | Rien
      <nombre>    ::= « un nombre (le séparateur décimal étant le point) »
      <texte>     ::= '"' « une chaîne de caractères » '"'
      <booleen>   ::= Vrai | Faux
      <variable>  ::= « caractères alphanum. sauf espace » | <var_spéciale>
      <commande>  ::= « caractères alphanum. sauf espace »
    <var_spéciale> ::= credit_iterations | sequence_tirages@ | valeur_utilisateur
    <instruction>  ::=
        '(' Afficher <instr_valeur> ')' |
        '(' Aide <instr_valeur> ')' |
        '(' !!! <texte> ')' |
        '(' Si ' ' <instr_booleen> ' ' Alors ' ' <programme> ')' |
        '(' Si ' ' <instr_booleen> ' ' Alors ' ' <programme> ' ' Sinon ' ' <programme> ')' |
        '(' Tant_que ' ' <instr_booleen> ' ' Faire ' ' <programme> ')' |
        '(' Faire ' ' <programme> ' ' Tant_que ' ' <booleen> ')' |
        '(' Repeter ' ' <instr_nombre> ' ' Fois ' ' <programme> ')' |
        '(' Declarer ' ' <variable> { ' ' <variable> } ' ' De_type ' ' <type> ')' |
        '(' Affecter_a ' ' <variable> ' ' <instr_valeur> ')' |
        '(' Affecter_a ' ' <variable> ' ' <instr_valeur> ' ' En_position ' ' <instr_nombre> ')' |
        '(' Ajouter_a ' ' <variable> ' ' <valeur> ')' | « si la variable est de type liste »
        '(' Ajouter_a ' ' <variable> ' ' <valeur> ')' | « si la var est de type texte et la val un caractère »
        '(' Definir ' ' '(' <commande>  { ' ' <variable> } ')' ' ' <programme> ')' |
        '(' Definir ' ' '(' <commande>  { ' ' <variable> } ')' ' ' <texte> ' ' <programme> ')' |
        '(' Definir ' ' '(' <commande>  { ' ' <variable> } ')' ' ' <texte> ' ' <texte> ' ' <programme> ')' |
        '(' <commande> { ' ' <instr_valeur> } ')' |
        '(' Exemples_de <commande> ' ' '(' Liste { ' ' <exemple> } ')' ')' |
        '(' Tester ' ' <commande> ')' |
        '(' Initialiser@ ' ' <instr_nombre> ')' |
        '(' RAZ ')'
        '(' Repere ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ')' |
        '(' Repere ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ')' |
        '(' Epaisseur ' ' <instr_nombre> ')' |
        '(' Contour ' ' <couleur> ')' |
        '(' Remplissage ' ' <couleur> ')' |
        '(' Cercle ' ' <coords> ' ' <instr_nombre> ')' |
        '(' Ellipse ' ' <coords> ' ' <instr_nombre> ' ' <instr_nombre> ')' |
        '(' Rectangle ' ' <coords> ' ' <coords> ')' |
        '(' Segment ' ' <coords> ' ' <coords> ')' |
        '(' Triangle ' ' <coords> ' ' <coords> ' ' <coords> ')' |
        '(' AV ' ' <instr_nombre> ')' |
        '(' BC ')' |
        '(' LC ')' |
        '(' TD ')' |
        '(' TD ' ' <instr_nombre> ')' |
        '(' TG ')' |
        '(' TG ' ' <instr_nombre> ')'
    <exemple> ::= '(' '?' { ' ' <valeur> } ')' ' ' <valeur>
    <couleur> ::= '(' Liste ' ' <instr_nombre> ' ' <instr_nombre> ' ' <instr_nombre> ')'
    <coords>  ::= '(' Liste ' ' <instr_nombre> ' ' <instr_nombre> ')'
    <instr_valeur> ::=
        <instr_nombre> | <instr_texte> | <instr_booleen> | <instr_liste> | '(' Geler ')'
    <instr_nombre> ::=
        <nombre> |
        <variable> « si la variable contient un nombre » |
        '(' Nombre ' ' <instr_valeur> ')' |
        '(' Demander_un_nombre ')' |
        '(' ( '-' | 1000Cosinus | 1000Sinus ) ' ' <instr_nombre> ')' |
        '(' ( '+' | '*' ) ' ' <instr_nombre> { ' ' <instr_nombre> } ')' |
        '(' ( '-' | '/' | '%' | '^' ) ' ' <instr_nombre> ' ' <instr_nombre> ')' |
        '(' Entier@ ' ' <instr_nombre> ' ' <instr_nombre>) |
        '(' Tete ' ' <instr_liste> ')' « si la tête est bien un nombre » |
        '(' Retirer_de ' ' <instr_liste> ')' « si la valeur retirée est bien un nombre » |
        '(' Nieme ' ' <instr_liste> ' ' <instr_nombre> ')' « si l’élément est bien un nombre » |
        '(' Nieme@ ' ' <instr_liste> ')' « si l’élément est bien un nombre » |
        '(' Longueur ' ' <instr_texte> ')' |
        '(' Longueur ' ' <instr_liste> ')' |
        '(' Millisecondes ')'
    <instr_texte> ::=
        <texte> |
        <variable> « si la variable contient un texte » |
        '(' Texte ' ' <instr_valeur> ')' |
        '(' Demander ')' |
        '(' Concatener ' ' <instr_texte> { ' ' <instr_texte> } ')' |
        '(' Tete ' ' <instr_liste> ')' « si la tête est bien un texte » |
        '(' Queue ' ' <instr_texte> ')'
        '(' Retirer_de ' ' <instr_liste> ')' « si la valeur retirée est bien un texte » |
        '(' Nieme ' ' <instr_liste> ' ' <instr_nombre> ')' « si l’élément est bien un texte » |
        '(' Nieme@ ' ' <instr_liste> ')' « si l’élément est bien un texte »
        '(' Nieme ' ' <instr_texte> ' ' <instr_nombre> ')' |
        '(' Nieme@ ' ' <instr_texte> ')'
    <instr_booleen> ::=
        <booleen> |
        <variable> « si la variable contient un booléen » |
        '(' Non ' ' <instr_booleen> ')' |
        '(' ( Et | Ou ) ' ' <instr_booleen> { ' ' <instr_booleen> } ')' |
        '(' ( '=' | '=/' | '<' | '<=' | '>' | '>=' ) ' ' <instr_valeur> ' ' <instr_valeur> ')' |
        '(' Vide? ' ' <instr_texte> ')' |
        '(' Vide? ' ' <instr_liste> ')' |
        '(' Tete ' ' <instr_liste> ')' « si la tête est bien un booléen » |
        '(' Retirer_de ' ' <instr_liste> ')' « si la valeur retirée est bien un booléen »
    <instr_liste> ::=
        <variable> « si la variable contient une liste » |
        '(' Liste { ' ' <valeur> } ')' |
        '(' Concatener ' ' <instr_liste> { ' ' <instr_liste> } ')' |
        '(' Tete ' ' <instr_liste> ')' « si la tête est bien une liste » |
        '(' Queue ' ' <instr_liste> ')' |
        '(' Retirer_de ' ' <instr_liste> ')' « si la valeur retirée est bien une liste »

### Symboles

À part les **parenthèses**, les **nombres** (le séparateur est le `.`) et les
**textes** (délimités par des `"`), le langage comporte des symboles. Ils sont
organisés comme ceci :

* symboles
    * commandes
        * prédéfinies
            * flot (`Si`, `Tant_que`…)
            * structures de données (`Liste`…)
            * autres (`Afficher`, `Concatener`…)
        * définies par l’utilisateur
    * mots-clefs
        * intermédiaires (`Alors`, `Sinon`…)
        * autres (`Vrai`, `Faux`, `Rien`…)
    * variables (le reste des symboles), qui le plus souvent :
        * sont définies par l’utilisateur
        * commencent par une minuscule

<div id="variables"></div>

Les variables sont des symboles qui renferment un valeur. Dans un algorithme,
elles servent souvent à stocker une valeur qui va servir plusieurs fois ou
suivre l’évolution d’une quantité.

### Conventions

* Les nom des commandes commencent par une majuscule, celui des variables par
  une minuscule.
* Si le nom d’un symbole comporte plusieurs mots, le séparateur est le « tiret
  du 8 » ou « underscore » (`_`).
* Les noms des symboles ne contiennent en général pas d’accent, mais certaines
  commandes parmi les plus simples et fréquentes peuvent s’écrire avec des
  lettres accentuées (sinon, réessayer sans accent). C’est le cas de :
    * `Affecter_à`
    * `Concaténer`
    * `Déclarer`
    * `Définir`
    * `Répéter`

## Liste des symboles prédéfinis

Cette section est générée directement à partir du fichier `microalg.l`, que
vous pouvez trouver [ici](microalg.l).

Ces symboles sont aussi classés [par thème](#symbolesparthmes).

Aller directement à :

<div id="syms"></div>

### Symboles par thèmes

Les `...` représentent une valeur ou une commande. Les crochets `[` et `]`
représentent du code facultatif. Pour une description plus formelle, voir
les [formes de Backus-Naur](#formedebackusnaur).

**Structures de contrôle**

`(Si ... Alors ...)`, `(Si ... Alors ... Sinon ...)`, `(Tant_que ... Faire ...)`
et `(Faire ... Tant_que ...)`, `(Repeter ... Fois ...)`. Pas de boucle POUR.

**Gestion des variables**

`(Declarer ... [...] De_type "...")`,
`(Affecter_a ... ... [En_position ...])`.

**Types et conversions**

`(Type ...)`, `(Nombre ...)`, `(Texte ...)`.

**Gestion des listes et du texte**

`(Liste ... [...])`, `(Vide? ...)`, `(Concatener ... [...])`
`(Longueur ...)`, `(Nieme ... ...)`, `(Nieme@ ...)`, `(Tete ...)`,
`(Queue ...)`, `(Ajouter_a ... ...)`, `(Retirer_de ...)`.

**Opérations mathématiques, comparaisons et nombres pseudo-aléatoires**

`+`, `-`, `*`, `/`, `%`, `^`, `1000Cosinus`, `1000Sinus`,
`=`, `=/`, `<`, `<=`, `>`, `>=`, `(Entier@ ... ...)`, `(Initialiser@ ...)`.

**Logique booléenne**

`Vrai`, `Faux`, `(Et ... [...])`, `(Ou ... [...])`, `(Non ...)`.

**Commandes graphiques**

`(RAZ)`,
`(Repere ... ... ... ... [... ...])`,
`(Epaisseur ...)`,
`(Contour (Liste ... ... ...))`,
`(Remplissage (Liste ... ... ...))`,
`(Cercle (Liste ... ...) ...)`,
`(Ellipse (Liste ... ...) ... ...)`,
`(Rectangle (Liste ... ...) (Liste ... ...))`,
`(Segment (Liste ... ...) (Liste ... ...))`,
`(Triangle (Liste ... ...) (Liste ... ...) (Liste ... ...))`.

**Commandes pour la tortue**

`(AV ...)`, `(BC)`, `(LC)`, `(TD [...])`, `(TG [...])`.

**Création et test de nouvelles commandes**

    (Definir (... ... [...])
        "documentation"
        "auteur"
        ...
        (Retourner ...)
    )

&nbsp;

    (Exemples_de ...
        (Liste
            (? ...) ...
            [(? ...) ...]
        )
    )

&nbsp;

    (Tester ...)

**Variables spéciales**

`credit_iterations`, `sequence_tirages@`, `valeur_utilisateur`.

**Divers**

`Rien`, `(Afficher ...)`, `(!!! "commentaire")`, `(Aide ...)`,
`(Demander)`, `(Demander_un_nombre)`, `(Geler ...)`, `(Millisecondes)`.

## Types

On trouvera :

* [booléen](#boolen),
* [nombre](#nombre),
* [texte](#texte),
* [liste](#liste),
* [commande](#commande).

### Booléen

Deux valeurs : `Vrai` ou `Faux`.

### Nombre

* Les entiers sont arbitrairement grands, positifs ou négatifs.
    * [Documentation PicoLisp](http://software-lab.de/doc/ref.html#number)
      (en anglais)
* Par défaut (MicroAlg sur EmuLisp, donc JavaScript), les décimaux sont à
  <a href="https://fr.wikipedia.org/wiki/Virgule_flottante"
  class="wp">virgule flottante</a>.
    * Le séparateur décimal est `.`.
* Si vous utilisez MicroAlg sur PicoLisp ou Ersatz, Les décimaux sont à
  <a href="http://fr.wikipedia.org/wiki/Virgule_fixe"
  class="wp">virgule fixe</a>.
    * Le séparateur décimal est `.`.
    * L’échelle est `*Scl`. <!-- TODO: http://pastebin.com/A6tPQNqT -->
    * [Documentation PicoLisp](http://software-lab.de/doc/ref.html#num-io)
      (en anglais)

### Texte

Les valeurs de type *texte* sont délimitées par des guillemets doubles :
`"salut"`.

Il est possible d’incorporer des guillemets en les *échappant* avec un `^`
(voir
<a href="https://fr.wikipedia.org/wiki/Caract%C3%A8re_d%27%C3%A9chappement"
   class="wp">l’article Wikipedia</a> sur les caractères d’échappement).

Pour plus de détails :

* [Documentation PicoLisp sur les
  *transients*](http://software-lab.de/doc/ref.html#transient) (en anglais)
* [Documentation PicoLisp sur les notations des
  *transients*](http://software-lab.de/doc/ref.html#transient-io) (en anglais)

### Liste

Pour créer une valeur de type *liste*, il faut taper : `(Liste ...)`.

Les valeurs contenues peuvent être de types différents. Il est même possible
de créer des listes de listes (de listes…).

### Commande

En cours d’élaboration.

## Aide sur les messages d’erreur

Un programme peut produire des erreurs à l’exécution. Certaines erreurs ont pu
être identifiées par un numéro et rédigées en français et sont répertoriées
[dans cette section](#erreursnumrotes). Mais pour des raisons techniques,
certaines sont restées en anglais. Ces dernières sont listées dans
[cette section](#erreursfrquentes).

Ainsi, si le message d’erreur ne permet pas de résoudre le problème, des
informations supplémentaires sont données ici. Dans le cas d’une erreur
non numérotée, il faut chercher soi-même dans la liste des
[erreurs fréquentes](#erreursfrquentes).

Dans tous les cas, si vous ne trouvez pas l’information que vous cherchiez,
merci de m’<a href="mailto:profgra.org@gmail.com"
class="email">écrire un petit email</a>.

### Erreurs fréquentes

Les messages sont classés par ordre alphabétique, sans tenir compte de la
valeur ou de la commande qui est parfois fournie :

* "type" -- Ce type n’existe pas.
    * Le type `"type"` que vous fournissez n’existe pas. Il doit valoir
      `"booleen"`, `"liste"`, `"nombre"`, `"rien"` ou `"texte"`.
* Commande `Demander` annulée.
    * Cette erreur apparaît si l’utilisateur annule sa réponse au lieu de la
      valider. Dans ce cas le programme s’arrête.
* Commande `Faire` sans mot-clé `Tant_que`.
    * `Tant_que` est peut-être mal orthographié, ou il manque peut-être le « _ »
      ou la majuscule.
    * Le `Faire` correspondant a pu être fermé prématurément.  
      `(Faire (=/ n 1)) <- une parenthèse fermante en trop`
* Commande `Tant_que` sans mot-clé `Faire`.
    * `Faire` est peut-être mal orthographié, n’oubliez pas la majuscule.
    * Le `Tant_que` correspondant a pu être fermé prématurément.  
      `(Tant_que (=/ n 1)) <- une parenthèse fermante en trop`
* Crédit d’itérations épuisé (1 000 par défaut). Vous pouvez recharger votre
  crédit en affectant une valeur à la variable `credits_iterations`.
    * Peut-être que vous gérez mal la condition ou le compteur d’une des
      boucles de votre programme. Sinon, si votre programme a vraiment besoin
      de plus d’itérations, vous pouvez recharger votre crédit en affectant
      une valeur à la variable `credits_iterations`.
* `Definir` : le paramètre X a déjà été déclaré comme variable.
    * Certains symboles comme `fin` préexistent pour des raisons techniques.
      Veuillez ne pas les utiliser comme nom de paramètre.
* `Entier@` prend 2 paramètres. Vous en donnez X.
* EOF Overrun
    * Il manque une parenthèse fermante quelque part. La ligne indiquée est
      celle de la parenthèse ouvrante isolée.
* X -- Executable or Number expected.
    * Vous avez ouvert deux parenthèses de suite.
    * Il y a une parenthèse en trop devant `X`.
* Impossible d’utiliser la sortie graphique avec `malg-njs` ou `malg-rjs`.
    * Il faut configurer SciTE pour qu’il utilise `malg-j` (voire `malg` si
      vous avez pu l’installer). Cliquer sur **View** puis **Parameters** et
      indiquer par exemple `malg-j`.  Voir [cette section](#excution).
* java.lang.ClassCastException: PicoLisp$Symbol cannot be cast to PicoLisp$Number
    * Une commande qui concerne uniquement les nombres (comme `+`, `-`, `*`,
    `/`, `%` ou `^`) a été écrite avec autre chose qu’un nombre en argument
    (peut-être du texte, un booléen, une liste ou `Rien`).
* java.lang.NullPointerException
    * Il y a peut-être dans votre code une commande de la forme `(x)` ou `x`
      est une variable contenant un nombre. Dans ce cas, vous voulez peut-être
      juste écrire la valeur de `x`, car `x` n’est pas une commande.
* java.lang.StackOverflowError
    * Voir la sous-section [récursion](#rcursioninfinie).
* L’espace des valeurs possibles dépasse … .
    * Le générateur de nombre pseudo-aléatoires qui sert aux commandes
      `Entier@` et `Nieme@` ne peut travailler qu’avec un certain nombre de
      valeurs possibles (environ un cinquième de 2 puissance 32), soit un peu
      plus de 800 millions.  
      MicroAlg ne peut donc pas tirer un entier au sort entre deux valeurs dont
      la différence est supérieure à 800 millions, ou tirer un élément dans une
      liste de plus de 800 millions d’éléments. Désolé.
* X -- La condition n’est pas un booléen.
    * Voir la sous-section [booléens](#boolens).
* Le premier paramètre de `Entier@` doit être un nombre.
* Le premier paramètre de X doit être un booléen.
    * Voir la sous-section [booléens](#boolens).
* Le second paramètre de `Entier@` doit être un nombre.
* Le second paramètre de X doit être un booléen.
    * Voir la sous-section [booléens](#boolens).
* (V est un W ; X un Y) -- Le type ne correspond pas.
* Mauvais tirage forcé : x n’est pas compris entre min et max.
* Maximum call stack size exceeded.
    * Voir la sous-section [récursion](#rcursioninfinie).
* Mot-clef `Alors` manquant.
    * La condition du `Si` correspondant a pu être laissée ouverte.
    * Le `Si` correspondant a pu être fermé prématurément.
* `Non` prend un paramètre booléen.
    * Voir la sous-section [booléens](#boolens).
* X -- Number expected
    * Vous avez sans doute tenté un calcul (`+`, `-`, …) faisant intervenir
      une valeur qui n’est pas du type nombre. C’est souvent le cas si vous
      utilisez la commande `Demander`.  
      Pensez à utiliser la commande `Nombre` pour convertir cette valeur.
* X not found.
    * Voir la sous-section [espaces dans les noms de fichiers](#espacesdanslesnomsdefichiers).
* processing_sketches is not defined
    * Dans la version web, vous lancez une commande graphique sans que la
      fenêtre graphique soit ouverte. Si vous le pouvez, configurez votre
      échantillon avec `"processing":true`. [Voir les exemples de configurations
      sur la galerie](http://galerie.microalg.info/microalg:config_echantillons).
* X -- Read open error
    * Voir la sous-section [espaces dans les noms de fichiers](#espacesdanslesnomsdefichiers).
* `Repeter` : le mot-clef `Fois` doit être en 2ème position.
    * Vérifiez l’orthographe de ce mot-clef intermédiaire. Attention à la
      majuscule.
* Stack overflow
    * Voir la sous-section [récursion](#rcursioninfinie).
* too much recursion
    * Voir la sous-section [récursion](#rcursioninfinie).
* Un objet vide n’a pas de queue.
* Un objet vide n’a pas de tête.
* X -- Undefined
    * Vous tentez d’utiliser la commande `X` (vous avez mis une parenthèse
      devant), mais elle n’existe pas. La commande est sans doute mal
      orthographiée (attention aux majuscules), ou vous utilisez une vieille
      version de MicroAlg.
    * « `Affecter` -- Undefined » indique qu’il vous manque un « _ ».
    * « `Tant` -- Undefined » indique qu’il vous manque un « _ ».

Si jamais le message que vous avez n’est pas ou pas assez documenté, merci de
le signaler en :

* [postant une « issue » sur Github](https://github.com/Microalg/Microalg/issues/new) ;
* posant une question dans [la section Questions/Réponses](http://qr.microalg.info) ;
* envoyant un <a href="mailto:profgra.org@gmail.com" class="email">email au
  créateur de MicroAlg</a>.

### Booléens

*  Si un comparateur est utilisé pour produire un booléen, penser à le mettre
   en premier car c’est une commande comme les autres. Par exemple `(n > 1)`
   ne fonctionnera pas, il faut écrire `(> n 1)`.

### Récursion infinie

Le programme est perdu dans une récursion infinie : une commande s’appelle
elle-même sans cesse.

Avant que l’ordinateur ne *plante* franchement, un mécanisme de la plate-forme
que vous utilisez (et non MicroAlg, d’où la variété des messages d’erreur)
arrête ce qui lui semble être un travail infini car un certain nombre d’appels
a été dépassé. Ce nombre est variable suivant les plate-formes et ne peut que
très rarement être modifié.

Vous êtes peut-être dans un des cas suivants :

* Vos appels récursifs ne trouvent pas de point d’appui. Votre test est-il bon ?
* Un texte est utilisé comme une commande alors qu’il ne devrait pas.
* Un mot-clef est utilisé comme une commande alors qu’il ne devrait pas. Dans
  ce cas, enlevez la parenthèse devant :
    * `(Vrai ...` → `Vrai ...`
    * `(Faux ...` → `Faux ...`
    * `(Rien ...` → `Rien ...`
    * `(Alors ...` → `Alors ...`
    * `(Sinon ...` → `Sinon ...`
    * `(Fois ...` → `Fois ...`
    * `(En_position ...` → `En_position ...`
    * `(De_type ...` → `De_type ...`

### Espaces dans les noms de fichiers

* Le fichier que vous voulez exécuter n’a pas été trouvé. C’est sans doute
  parce que son nom contient des espaces. Pour le confirmer, observez le nom de
  fichier qui précède ce message d’erreur, il s’arrête sans doute au premier
  espace rencontré.

### Erreurs numérotées

[0](#erreur_0)
[1](#erreur_1)
[2](#erreur_2)
[3](#erreur_3)
[4](#erreur_4)
[5](#erreur_5)
[6](#erreur_6)
[7](#erreur_7)
[8](#erreur_8)
[9](#erreur_9)
[10](#erreur_10)
[11](#erreur_11)
[12](#erreur_12)
[13](#erreur_13)
[14](#erreur_14)
[15](#erreur_15)
[16](#erreur_16)
[17](#erreur_17)
[18](#erreur_18)
[19](#erreur_19)
[20](#erreur_20)
[21](#erreur_21)
[22](#erreur_22)
[23](#erreur_23)
[24](#erreur_24)
[25](#erreur_25)
[26](#erreur_26)
[27](#erreur_27)
[28](#erreur_28)
[29](#erreur_29)
[30](#erreur_30)
[31](#erreur_31)
[32](#erreur_32)
[33](#erreur_33)
[34](#erreur_34)
[35](#erreur_35)
[36](#erreur_36)
[37](#erreur_37)
[38](#erreur_38)
[39](#erreur_39)
[40](#erreur_40)
[41](#erreur_41)
[42](#erreur_42)
[43](#erreur_43)
[44](#erreur_44)
[45](#erreur_45)
[46](#erreur_46)
[47](#erreur_47)
[48](#erreur_48)
[49](#erreur_49)
[50](#erreur_50)
[51](#erreur_51)
[52](#erreur_52)
[53](#erreur_53)
[54](#erreur_54)
[55](#erreur_55)
[56](#erreur_56)
[57](#erreur_57)
[58](#erreur_58)
[59](#erreur_59)
[60](#erreur_60)
[61](#erreur_61)
[62](#erreur_62)
[63](#erreur_63)
[64](#erreur_64)
[65](#erreur_65)
[66](#erreur_66)
[67](#erreur_67)
[68](#erreur_68)
[69](#erreur_69)
[70](#erreur_70)
[71](#erreur_71)
[72](#erreur_72)
[73](#erreur_73)
[74](#erreur_74)
[75](#erreur_75)
[76](#erreur_76)
[77](#erreur_77)
[78](#erreur_78)
[79](#erreur_79)
[80](#erreur_80)
[81](#erreur_81)
[82](#erreur_82)
[83](#erreur_83)
[84](#erreur_84)
[85](#erreur_85)
[86](#erreur_86)
[87](#erreur_87)
[88](#erreur_88)
[89](#erreur_89)
[90](#erreur_90)
[91](#erreur_91)

#### erreur_0

> La commande `truc` n’existe pas.

* Vous tentez d’utiliser la commande `truc` (vous avez mis une parenthèse
  devant), mais elle n’existe pas. La commande est sans doute mal
  orthographiée (attention aux majuscules), ou vous utilisez une vieille
  version de MicroAlg.
* « `Affecter` -- Undefined » indique qu’il vous manque un « _ ».
* « `Tant` -- Undefined » indique qu’il vous manque un « _ ».

**Remarque** : hors web, cette erreur apparaît sous la forme
`truc -- Undefined`.

#### erreur_1

> La commande `!!!` n’accepte qu’un argument.

Voir [l’aide de la commande !!!](#sym-!!!).

#### erreur_2

> Un commentaire doit être du texte (entre guillemets).

Voir [l’aide de la commande !!!](#sym-!!!).

#### erreur_3

> Parenthèses mal placées dans `(X Y Z)`.

Cela peut arriver si vous mettez les valeurs d’une liste dans une autre
série de parenthèses : `(Liste (X Y Z))`. Il faut taper `(Liste X Y Z)`.

#### erreur_4

> Pas de représentation textuelle pour `truc`.

`truc` a une valeur tellement étrange que MicroAlg n’arrive pas à l’afficher.

Merci de m’envoyer votre programme
<a href="mailto:profgra.org@gmail.com" class="email">par email</a> pour que
je puisse vous en dire plus.

#### erreur_5

> `Afficher` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_6

> `Afficher` n’a qu’un paramètre.

* Pour afficher sur plusieurs lignes, faites plusieurs affichages.
* Pour afficher plusieurs valeurs sur une même ligne, utilisez `Concatener`.
* Vous utilisez peut-être `Concatener`, mais il manque peut-être une parenthèse
  fermante, ce qui fait que le reste du programme est vu comme le reste des
  arguments de `Afficher`.

#### erreur_7

> `Concatener` : l’argument n°X (`truc`) est une variable qui n’a pas été
> déclarée.

Vérifiez l’orthographe de votre variable.

#### erreur_8

> `Concatener` : la valeur `truc` est de type `"machin"` et n’est donc pas
> concaténable.

* Seules les valeurs de type `"texte"` ou `"liste"` sont concaténables. Vérifiez
  le type des valeurs que vous voulez concaténer.
* Pour construire du texte avec des valeurs qui ne sont pas de type `"texte"`,
  on peut utiliser la commande [`Texte`](#sym-Texte).

#### erreur_9

> `Concatener` : l’argument n°X (`truc`) doit être de type `"machin"` mais est
> `"bidule"`.

Les valeurs à concaténer doivent être du même type que la première valeur
envoyée à `Concatener`.

#### erreur_10

> `Declarer` prend au moins 3 paramètres. Vous en donnez X.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_11

> `Declarer` : mot-clef `De_type` manquant.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_12

> `Declarer` : le type ne peut pas être `truc` mais doit être du texte
> (entre "").

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_13

> `Declarer` : le type `"truc"` n’existe pas.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_14

> `Declarer` : la variable `truc` a déjà été déclarée de type `"bidule"`.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_15

> `Initialiser` a été abandonnée dans la version 0.4. Merci d’utiliser
> `Declarer`.

C’est vrai.

#### erreur_16

> On ne peut pas affecter une valeur à `truc`…

On ne peut affecter une valeur qu’à une variable, qu’il faut déclarer au
préalable.

Voir l’aide de la commande [Declarer](#sym-Declarer) et de la commande
[Affecter_a](#sym-Affecter_a).

#### erreur_17

> `Affecter_a` : la variable `truc` n’a pas été déclarée.

Avant d’utiliser une variable, il faut la déclarer avec la commande `Declarer`.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_18

> `truc` est une liste. On ne peut pas lui affecter `machin` qui n’est pas une
> liste.

* Si vous vouliez ajouter une nouvelle valeur à la liste, il faut utiliser
  [Ajouter_a](#sym-Ajouter_a).
* Si vous vouliez remplacer une valeur de la liste par une autre valeur, il
  faut utiliser `Affecter_a … … En_position …`.
  Voir [la documentation de Affecter_a](#sym-Affecter_a).

#### erreur_19

> `Affecter_a` : le type ne correspond pas. `truc` est un `"machin"` et
> `bidule` est un `"chose"`.

Si une variable est d’un certain type, il faut lui affecter une valeur du même
type. Vérifiez le type de votre variable ou de votre valeur.

#### erreur_20

> `Affecter_a` n’est pas bien fermé, ou il manque `En_position`.

Vous fournissez un troisième argument à `Affecter_a` qui n’est pas
`En_position`.

* Pour une affectation à une variable qui n’est pas de type `"liste"`,
  Il manque sans doute une parenthèse après la valeur à affecter à la variable.
* Si vous voulez changer une valeur d’une liste, il faut utiliser le mot-clé
  intermédiaire `En_position`.

#### erreur_21

> `Affecter_a` : après `En_position`, il n’y a qu’un paramètre.

* Il ne faut pas en mettre plus.
* Vous n’avez peut-être pas bien fermé la parenthèse de la commande
  `Affecter_a`.

#### erreur_22

> `Affecter_a ... En_position ...` : après `En_position`, l’indice est manquant.

Après le mot-clé `En_position`, il faut fournir un nombre entier qui indique
la position de la valeur à changer.

#### erreur_23

> `Affecter_a ... En_position ...` : après `En_position`, l’indice est une
> variable qui n’a pas été déclarée : `truc`.

Avant d’utiliser la variable `truc`, il faut la déclarer avec la commande
`Declarer`.

Voir [l’aide de la commande Declarer](#sym-Declarer).

#### erreur_24

> `Affecter_a ... En_position ...` : après `En_position`, l’indice doit être un
> nombre et non un texte. Donc `"truc"` ne convient pas.

Vérifiez le type de ce que vous avez indiqué comme position.

#### erreur_25

> `Affecter_a ... En_position ...` : après `En_position`, l’indice doit être un
> nombre. Donc `truc` ne convient pas.

Vérifiez le type de ce que vous avez indiqué comme position.

#### erreur_26

> `Affecter_a ... En_position ...` : après `En_position`, l’indice doit être un
> nombre entier. Donc `truc` ne convient pas.

* Si c’est un nombre constant, il ne doit pas comporter de point.
* Si c’est le résultat d’un calcul ou une variable, vérifiez que cette valeur
  est toujours un nombre entier. Si réfléchir ne suffit pas, vous pouvez
  insérer un affichage de cette valeur dans votre programme.

#### erreur_27

> `Affecter_a ... En_position ...` : après `En_position`, l’indice doit être
> strictement positif. Donc `truc` ne convient pas.

* Si c’est un nombre constant, il ne doit pas être précédé du signe « moins ».
* Si c’est le résultat d’un calcul ou une variable, vérifiez que cette valeur
  est toujours un nombre strictement positif. Si réfléchir ne suffit pas, vous
  pouvez insérer un affichage de cette valeur dans votre programme.

**Rappel** : les positions sont numérotées à partir de 1.

#### erreur_28

> `Affecter_a ... En_position ...` : après `En_position`, l’indice est trop
> grand (position X dans un objet de longueur Y).

* Si c’est un nombre constant, ajustez-le.
* Si c’est le résultat d’un calcul ou une variable, vérifiez cette valeur.
  Si réfléchir ne suffit pas, vous pouvez insérer un affichage de cette valeur
  dans votre programme.

**Rappel** : les positions sont numérotées à partir de 1.

#### erreur_29

> La valeur affectée à un texte doit être un texte de longueur 1 (un caractère)
> mais vous avez donné : `truc`.

Dans `(Affecter_a mon_texte truc En_position X)`, `truc` ne peut être qu’un
caractère. Vérifiez la valeur de votre `truc`, et sa longueur si c’est un texte.

#### erreur_30

> Affectation positionnelle impossible sur `truc` qui est de type `"machin"`.

`Affecter_a truc ... En_position ...` ne fonctionne que si `truc` est un texte
ou une liste. Vérifiez le type de votre `truc`.

#### erreur_31

> `Demander` ne prend pas de paramètre.

Il faut taper `(Demander)`. Ne rien mettre avant la parenthèse fermante.

#### erreur_32

> `Demander_un_nombre` ne prend pas de paramètre.

Il faut taper `(Demander_un_nombre)`. Ne rien mettre avant la parenthèse
fermante.

#### erreur_33

> `Demander_un_nombre` : La valeur entrée n’est pas un nombre.

Ce n’est pas une erreur liée au programme.  
Cette erreur survient lorsque l’utilisateur du programme tape autre chose qu’un
nombre lorsque le programme lui en demande un.

#### erreur_34

> `Liste` : l’argument n°X, `truc`, est une variable qui n’a pas été déclarée.

Avant d’utiliser la variable `truc`, il faut la déclarer avec la commande
`Declarer`, puis lui affecter une valeur avec `Affecter_a`.

#### erreur_35

> `Longueur` n’a qu’un paramètre.

Vous en fournissez peut-être plus, ou alors la parenthèse est mal fermée.

#### erreur_36

> `Longueur` : la variable `truc` n’a pas été déclarée.

Avant d’utiliser la variable `truc`, il faut la déclarer avec la commande
`Declarer`, puis lui affecter une valeur avec `Affecter_a`.

#### erreur_37

> Le nombre `truc` n’a pas de `Longueur`.

On ne peut passer à `Longueur` qu’une valeur de type `"texte"` ou `"liste"`.

#### erreur_38

> `Vrai` n’a pas de `Longueur`.

On ne peut passer à `Longueur` qu’une valeur de type `"texte"` ou `"liste"`.

#### erreur_39

> `Faux` n’a pas de `Longueur`.

On ne peut passer à `Longueur` qu’une valeur de type `"texte"` ou `"liste"`.

#### erreur_40

> `Rien` n’a pas de `Longueur`.

On ne peut passer à `Longueur` qu’une valeur de type `"texte"` ou `"liste"`.  
Si vous avez passé une variable, l’avez-vous initialisée ?

#### erreur_41

> `truc` n’a pas de `Longueur`.

On ne peut passer à `Longueur` qu’une valeur de type `"texte"` ou `"liste"`.

#### erreur_42

> `Nieme` attend exactement deux arguments, vous en donnez X.

Voir [la documentation](#sym-Nieme) de cette commande.

#### erreur_43

> `Nieme` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_44

> `Nieme` ne peut pas extraire une valeur du nombre X.

Le premier argument de `Nieme` doit être du texte ou une liste.  
Vérifiez le type de votre valeur.

#### erreur_45

> `Nieme` ne peut pas extraire une valeur du booléen `Vrai`.

Le premier argument de `Nieme` doit être du texte ou une liste.  
Vérifiez le type de votre valeur.

#### erreur_46

> `Nieme` ne peut pas extraire une valeur du booléen `Faux`.

Le premier argument de `Nieme` doit être du texte ou une liste.  
Vérifiez le type de votre valeur.

#### erreur_47

> `Nieme` ne peut pas extraire une valeur de `Rien`.

Le premier argument de `Nieme` doit être du texte ou une liste.  
Si c’est une variable, l’avez-vous initialisée ?

#### erreur_48

> `Nieme` : l’indice doit être un nombre et non ce qui semble être un texte
> vide.

Voir [la documentation](#sym-Nieme) de cette commande.

#### erreur_49

> `Nieme` : l’indice est une variable non déclarée : `truc`.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_50

> `Nieme` : l’indice doit être un nombre et donc le texte `"truc"` ne convient
> pas.

Voir [la documentation](#sym-Nieme) de cette commande.

#### erreur_51

> `Nieme` : l’indice vaut `Rien` et donc ne convient pas. Il faut un nombre.

Le premier argument de `Nieme` doit être du texte ou une liste.  
Si c’est une variable, l’avez-vous initialisée ?

#### erreur_52

> `Nieme` : l’indice doit être un nombre entier et donc `truc` ne convient pas.

Voir [la documentation](#sym-Nieme) de cette commande.

#### erreur_53

> `Nieme` : l’indice doit être strictement positif et donc X ne convient pas.

Si vous utilisez une variable pour l’indice, il ne faut pas qu’elle s’annule.
Contrôlez-la mieux.

#### erreur_54

> `Nieme` : l’indice est trop grand (position X dans un objet de longueur Y).

Si vous utilisez une variable pour l’indice, il ne faut pas qu’elle soit trop
grande. Contrôlez-la mieux.

#### erreur_55

> `Nieme` : l’indice doit être un nombre et donc `truc` ne convient pas.

Voir [la documentation](#sym-Nieme) de cette commande.

#### erreur_56

> Affectation positionnelle impossible sur `Rien`.

`Affecter_a truc ... En_position ...` ne fonctionne que si `truc` est un texte
ou une liste. Si c’est une variable, l’avez-vous initialisée ?

#### erreur_57

> `Affecter_a ... En_position ...` : après `En_position`, l’indice doit être un
> nombre. Donc `Rien` ne convient pas.

Vérifiez la valeur de ce que vous avez indiqué comme position.  
Si c’est une variable, l’avez-vous initialisée ?

#### erreur_58

> `Affecter_a ... En_position ...` : avant `En_position`, il faut la variable
> puis la valeur.

Il manque sans doute l’une des deux.

#### erreur_59

> Les calculs attendent des nombres. `truc` ne convient pas.

Les commandes `+`, `-`, `*`, `/`, `^` et `%` ne travaillent que sur des
nombres.

Dans le cas où la valeur qui pose problème est `Rien`, vérifiez que les
variables que vous utilisez ont bien été initialisées.

**Remarque** : hors web, cette erreur apparaît sous la forme
`truc -- Number expected`.

#### erreur_60

> `Tete` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_61

> Vous cherchez la tête de `truc`, qui n’est ni un texte ni une liste mais
> de type `"machin"`.

Si la valeur qui ne convient pas est `Rien`, il se peut que vous utilisiez
une variable qui n’a pas été initialisée.

#### erreur_62

> Un valeur vide n’a pas de tête.

Vérifiez la valeur dont vous cherchez la tête. Il faut au moins qu’elle
contienne **un** élément.

#### erreur_63

> `Queue` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_64

> Vous cherchez la queue de `truc`, qui n’est ni un texte ni une liste mais
> de type `"machin"`.

Si la valeur qui ne convient pas est `Rien`, il se peut que vous utilisiez
une variable qui n’a pas été initialisée.

#### erreur_65

> Un valeur vide n’a pas de queue.

Vérifiez la valeur dont vous cherchez la queue. Il faut au moins qu’elle
contienne **un** élément.

#### erreur_66

> `Ajouter_a` attend exactement deux arguments. Vous en donnez `truc`.

Voir [l’aide de la commande Ajouter_a](#sym-Ajouter_a).

#### erreur_67

> `Ajouter_a` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_68

> `Ajouter_a` : la variable n’a pas été initialisée. Affectez-lui une valeur
> de type `"texte"` ou `"liste"`.

Cela peut être le texte vide `""` ou la liste vide `(Liste)`, ou des valeurs
non vides.

#### erreur_69

> `Ajouter_a` : la variable est de type `"truc"` alors qu’elle doit être de
> type `"texte"` ou `"liste"`.

Vérifiez bien le type et la valeur de votre variable.

#### erreur_70

> Vous voulez ajouter `"truc"` à `machin` mais on ne peut `Ajouter_a` un texte
> qu’un seul caractère.

Le deuxième argument de la commande `Ajouter_a` doit être un texte de longueur
1 comme `"a"` ou `"x"`.

#### erreur_71

> `Retirer_de` attend exactement un argument. Vous en donnez `truc`.

Voir [l’aide de la commande Retirer_de](#sym-Retirer_de).

#### erreur_72

> `Retirer_de` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_73

> `Retirer_de` : la variable n’a pas été initialisée. Affectez-lui une valeur
> de type `"texte"` ou `"liste"`.

Voir [l’aide de la commande Retirer_de](#sym-Retirer_de).

#### erreur_74

> `Retirer_de` : la variable est de type `"truc"` alors qu’elle doit être de
> type `"texte"` ou `"liste"`.

Vérifiez bien le type et la valeur de votre variable.

#### erreur_75

> Mauvais tirage forcé : `truc` n’est pas compris entre `machin` et `bidule`.

Une des valeurs spécifiées dans la liste `sequence_tirages@` :

* n’est pas comprise entre les arguments passés à `Entier@`,
* ou est strictement plus grande que la longueur d’un argument passé à `Nieme@`.

#### erreur_76

> L’espace des valeurs possibles dépasse `truc`.

Le générateur de nombres pseudo aléatoires peut « seulement » choisir entre
`truc` valeurs possibles. L’écart entre les deux arguments d’un appel à
`Entier@` dépasse ce nombre donc `Entier@` ne peut pas fonctionner correctement.

#### erreur_77

> `Initialiser@` attend exactement un argument. Vous en donnez `truc`.

Voir [l’aide de la commande Initialiser@](#sym-Initialiser@).

#### erreur_78

> `Initialiser@` : la variable `truc` n’a pas été déclarée.

Vous utilisez une variable inconnue de MicroAlg.

* Déclarez-la si ce n’est pas fait.
* Sinon vérifiez l’orthographe de la variable, et respectez les majuscules et
  minuscules.

#### erreur_79

> `Initialiser@` : la variable `truc` n’a pas été initialisée. Affectez-lui une
> valeur de type `"nombre"`.

Voir [l’aide de la commande Initialiser@](#sym-Initialiser@).

#### erreur_80

> `Initialiser@` : l’argument doit être un nombre. Vous avez donné `truc`.

Vérifiez le type de la valeur que vous passez à `Initialiser@`.

Voir [l’aide de la commande Initialiser@](#sym-Initialiser@).

#### erreur_81

> `Initialiser@` n’accepte que des valeurs entre 0 (inclus) et 2 puissance 32
> (exclus). Vous avez donné : `truc`.

Vérifiez la valeur que vous passez à `Initialiser@`.

#### erreur_82

> `Entier@` attend exactement deux arguments. Vous en donnez truc.

Voir [l’aide de la commande Entier@](#sym-Entier@).

#### erreur_83

> Le minimum donné à `Entier@` n’est pas un nombre entier (vous avez donné
> `truc`).

`Entier@` attend deux nombres entiers. Si vous utilisez une variable pour le
premier nombre, vérifiez sa valeur.

#### erreur_84

> Le maximum donné à `Entier@` n’est pas un nombre entier (vous avez donné
> `truc`).

`Entier@` attend deux nombres entiers. Si vous utilisez une variable pour le
second nombre, vérifiez sa valeur.

#### erreur_85

> Le minimum et le maximum de `Entier@`, ne sont pas dans l’ordre
> (`truc` > `machin`).

Si vous utilisez une ou plusieurs variables pour les arguments de `Entier@`,
vérifiez leur valeur.

#### erreur_86

> `Nieme@` attend exactement un argument. Vous en donnez `truc`.

Voir [l’aide de la commande Nieme@](#sym-Nieme@).

#### erreur_87

> `Nieme@` ne peut pas extraire un élément pseudo-aléatoire du nombre `truc`.

Vérifiez la valeur de ce que vous passez à la commande `Nieme@`.

#### erreur_88

> `Nieme@` ne peut pas extraire un élément pseudo-aléatoire du booléen `Vrai`.

Vérifiez la valeur de ce que vous passez à la commande `Nieme@`.

#### erreur_89

> `Nieme@` ne peut pas extraire un élément pseudo-aléatoire du booléen `Faux`.

Vérifiez la valeur de ce que vous passez à la commande `Nieme@`.

#### erreur_90

> `Nieme@` ne peut pas extraire un élément pseudo-aléatoire de la valeur `Rien`.

Vérifiez la valeur de ce que vous passez à la commande `Nieme@`.  
Si vous avez passé une variable, l’avez-vous initialisée ?

#### erreur_91

> `Nieme@` ne peut pas extraire un élément pseudo-aléatoire que d’une liste ou
> d’un texte. Vous avez donné `truc` qui est de type `"machin"`.

Vérifiez la valeur de ce que vous passez à la commande `Nieme@`.

## Abréviations

Que ce soit dans l’interface web (navigateur) ou dans SciTE
(voir [cette section](#scite) pour l’utilisation de MicroAlg avec SciTE),
un appui sur `Ctrl`+`B` vous complètera les débuts de commandes suivants :

    (Af  ->  (Affecter_a |)
    (Afe ->  (Affecter_a | En_position )
    (A   ->  (Afficher |)
    (Al  ->  (!!! "Algo |")...
    (At  ->  (Afficher "|")
    (Aj  ->  (Ajouter_a |)
    (Co  ->  (Concatener |)
    (D   ->  (Declarer | De_type "")
    (De  ->  (Definir |...
    (Dm  ->  (Demander)|
    (Dn  ->  (Demander_un_nombre)|
    (E   ->  (Exemples_de |...
    (E@  ->  (Entier@ |)
    # Pour Faire, deux lignes vides pour aider à penser au compteur.
    (F   ->  (Faire (|)...
    (I@  ->  (Initialiser@ |)
    (Li  ->  (Liste |)
    (Lo  ->  (Longueur |)
    (M   ->  (Millisecondes)|
    (Ni  ->  (Nieme |)
    (N@  ->  (Nieme@ |)
    (No  ->  (Nombre |)
    (R   ->  (Repeter | Fois...
    (Rd  ->  (Retirer_de |)
    (Re   -> (Retourner |)
    (Rp   -> (Repere |)
    (S   ->  (Si (|) Alors...
    (Ss  ->  (Si (|) Alors () Sinon...
    (Te   -> (Tester |)
    # Pour Tant_que, deux lignes vides pour aider à penser au compteur.
    (Tq  ->  (Tant_que (|) ...

## Export

Pour l’instant, cette fonctionnalité n’existe que dans l’interface web.

### Limitations de l’export

#### Limitations générales

Suivant le type d’export, toutes les commandes MicroAlg peuvent ne pas être
exportées. C’est par exemple le cas des commandes graphiques quand la cible est
un langage de calculatrice.

#### Limitations de l’export vers les langages des calculatrices

* L’export ne concerne que les Casio et les Texas-Instrument.
* `Demander` ne peut être utilisée qu’avec `Affecter_a`, pas
  au sein d’un calcul. Seulement ces constructions sont exportables :
    * `(Affecter_a VAR (Demander))`
    * `(Affecter_a VAR (Nombre (Demander)))`
* Puisque les calculatrices utilisent différentes familles de variables
  suivant le type de valeur à stocker (contrairement à MicroAlg), les variables
  seront préfixées brutalement par `Str` ou non, suivant qu’on a utilisé
  `(Demander)` ou `(Nombre (Demander))`.
* La commande `Declarer` s’exporte en un commentaire seulement.

#### Précisions sur la visualisation sous forme d’arbre

Pour représenter `(Commande arg1 arg2…)`, on considère que `Commande` est un
nœud et que ses arguments sont les enfants de ce nœud. Par exemple,  
`(Afficher (Concatener "du texte" "et encore du texte"))`  
sera représenté par un arbre ayant cette structure :

    Afficher
    └─Concatener
      ├─"du texte"
      └─"et encore du texte"

### Fonctionnement de l’export

Cette section est plutôt technique et est destinée à celles et ceux qui veulent
comprendre le fonctionnement MicroAlg.

#### Le principe

Exporter un programme depuis MicroAlg vers n’importe quoi (un autre langage de
programmation, de description…) est assez facile car MicroAlg est un
Lisp (<a class="wp" href="https://fr.wikipedia.org/wiki/Lisp">voir l’article
Wikipedia correspondant</a>).
Il est donc possible de reprogrammer les commandes de MicroAlg pour qu’elles
retournent une chaîne de caractères au lieu d’avoir leur comportement habituel.
Ce n’est pas possible avec la plupart des autres langages car certaines
commandes comme `Si` ou `Tant_que` sont des mots-clefs et donc ne sont pas
reprogrammables.

Par exemple, l’addition peut être reprogrammée pour que `(+ x 1)` donne `"x+1"`
(voir [ici](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg_export_casio.l#L12)) :

    (de + (A B) (pack "(" A "+" B ")"))

Ce qui signifie, si on devait traduire cette ligne en MicroAlg :

    (Definir (+ A B)
        (Retourner (Concatener A "+" B))
    )

L’expression `(+ x 1)`, au lieu de :

1. chercher la valeur de x,
1. d’y ajouter 1,
1. et de retourner le résultat,

va concaténer `x` (sans en chercher la valeur) `+` et `1` pour donner `"x+1"`.

Ainsi, les fichiers `microalg_export_*.l` reprogramment MicroAlg pour chaque
langage cible.

#### Récursion

Une fois que MicroAlg est reprogrammé, l’exécution d’un programme complet
génère récursivement la version exportée, sans effort supplémentaire. En effet,
chaque commande inclut le travail des commandes qui lui ont été passées en
argument.

Avec par exemple `(+ (* 2 x) 1)` :

1. `+` attend que ses arguments aient été exécutés
    * le premier est `(* 2 x)`
        * (là est la récursion) `*` concatène `"2"`, `"*"` et `"x"` pour donner
          `"2*x"`
    * le second est le nombre 1
1. `+` peut maintenant concaténér `"2*x"`, `"+"` et `"1"` pour donner `"2*x+1"`.

#### Préparation

Dans les exemples précédents, nous n’avons pas évoqué le mécanisme qui
transforme `x` en `"x"`.

Pour empêcher l’évaluateur d’aller chercher la valeur de `x` et de plutôt
utiliser la chaîne de caractères `"x"`, on « protège » certaines valeurs comme
les nombres, les textes et les symboles (sauf certains mots-clefs).

Encore une fois, c’est assez facile car nous travaillons avec un Lisp. Nous
utilisons son
[homoiconicité](https://fr.wikipedia.org/wiki/Homoiconicit%C3%A9), qui nous
permet de manipuler le code source facilement car ce code source est encodé
dans la structure de donnée fondamentale des Lisps : la liste.

Un travail de transformation du code est donc effectué par la commande
`proteger_source` du fichier `microalg_export.l`
([voir ici](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg_export.l)).

Elle remplace :

* un nombre littéral `42` par `(Litteral 42)`,
* un texte littéral `"bonjour"` par `(Litteral "bonjour")`,
* certains symboles `x` par `(Variable x)`.

Ainsi, pour chaque langage cible, l’implémentation de `Litteral` et `Variable`
permet de contrôler finement l’export.

C’est en particulier ce qui permet de mettre en place, à partir d’un programme
textuel en MicroAlg, les blocs de Blockly correspondants
([voir le code](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg_export_blockly.l)
de `microalg_export_blockly.l`).  
En effet, sans cela, les simples nombres ne pourraient pas générer le code XML
correspondant aux blocs « nombre ».

De plus, spécifiquement pour Blockly, une autre préparation est nécessaire car
un bloc est accroché au bloc précédent seulement s’il est dans ses balises
`<next>...</next>`. C’est le rôle de `insertion_next`
([voir le code](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg_export_blockly.l#L35t))
qui réorganise un programme comme :

    (Afficher "bonjour")
    (Afficher "tout le")
    (Afficher "monde !")

en :

    (Afficher "bonjour" (Next (Afficher "tout le" (Next (Afficher "monde !")))))

La commande `Next` étant définie un peu plus loin simplement ainsi :

    (de Next (content)
      (pack "<next>"
            content
            "</next>"))

## Feuille de route

Voici les directions que le projet va prendre :

* Finir d’implémenter le jeu d’instructions de base.
    * Il manque la lecture/écriture depuis/dans un fichier.
* Finir de coder les derniers blocs pour
  <a href="https://blockly-demo.appspot.com/static/apps/index.html"
  class="offi">Blockly</a>.
* Continuer l’export des programmes écrits en MicroAlg vers d’autres langages :
  Python, JS, C, PHP, C#, Pascal… et MicroAlg lui-même.
* Faire tourner MicroAlg sur une petite plaque comme Arduino.

À un niveau moins général, des rapports de bugs ou idées d’amélioration sont
régulièrement [reportées sur Github](https://github.com/Microalg/Microalg/issues?state=open).

## Contribuer

Toutes les bonnes volontés sont les bienvenues pour contribuer à MicroAlg. Il
y aura de la place pour tout le monde. Voici une liste non exhaustive suivant
les compétences techniques au autres du contributeur :

* **aucune compétence** :
    * lire, installer, tester, et rapporter des bugs ou des suggestions ;
    * versions web, Windows, Android, iOS, Mac…
* compétences en **pédagogie** (en maths, en algorithmique, en informatique ou
  même en général) :
    * lire et tester les tutoriels ;
    * critiquer le langage ;
    * critiquer les interfaces ;
    * créer des tutoriels ;
* compétences en **communication**, **marketing**, ou juste un gros réseau :
    * buzzer le projet ;
* compétences en **orthographe**, **expression ecrite** :
    * relire et corriger les fautes, trouver de meilleures formulations ;
    * travailler sur le [tutoriel simple](tuto_simple.html) ;
* compétences **pédagogiques** :
    * retravailler les tutoriels ;
    * écrire d’autres tutoriels, par exemple pour détailler un sujet précis ;
* compétences en **visuels numériques**, **HTML/CSS** :
    * travailler sur l’apparence du site ;
* compétences en **développement** (Java, JavaScript, jQuery, PicoLisp…) :
    * améliorer l’interface web ;
    * applis Android ou iOS, installateurs pour Mac ou PC ;
    * construire de nouvelles interfaces, par exemple avec GeoGebra ;
    * travailler sur le cœur du projet (émettre des messages d’erreur
      compréhensibles et « actionnables » pour l’utilisateur) ;

Pour cela, il y a plusieurs méthodes :

* proposer une « pull request » en éditant directement
  [un fichier sur Github](https://github.com/Microalg/Microalg), ou après avoir
  cloné le dépôt ;
* [poster une « issue » sur Github](https://github.com/Microalg/Microalg/issues/new) ;
* poser une question dans [la section Questions/Réponses](http://qr.microalg.info) ;
* envoyer un <a href="mailto:profgra.org@gmail.com" class="email">email au
  créateur de MicroAlg</a>.

## Architecture

### Diagramme

<img alt="Diagramme d’architecture" src="visuels/archi.svg" />

**Légende**

* MACHINE : l’ordinateur, le smartphone, la tablette, la machine virtuelle…
* JVM : pour <a href="http://fr.wikipedia.org/wiki/Machine_virtuelle_Java"
  class="wp">Java Virtual Machine</a>,
  exécute du byte-code Java
* Rhino : plate-forme en Java pur permettant d’interpréter du code JavaScript
  (voir <a href="http://fr.wikipedia.org/wiki/Rhino_%28moteur_JavaScript%29"
  class="wp">l’article Wikipedia</a>)
* NodeJS : plate-forme permettant d’interpréter du code JavaScript
  (voir <a href="http://fr.wikipedia.org/wiki/Nodejs"
  class="wp">l’article Wikipedia</a>)
* browser : le navigateur (Internet) installé sur la MACHINE
* PicoLisp : la version officielle du langage hôte, PicoLisp
* Ersatz : implémentation en Java de PicoLisp
* EmuLisp : implémentation en JavaScript de PicoLisp
* `pil`, `pil-j`, `pil-rjs` et `pil-njs` : les interpréteurs des
  implémentations de PicoLisp
* `microalg.l` : le fichier définissant le langage MicroAlg
* Processing(.js) : langage et plate-forme de programmation visuelle et
  sonore (voir les sites <a href="http://processing.org/" class="offi">processing.org</a>
  et <a href="http://processingjs.org/" class="offi">processingjs.org</a>)
* `.pde` (abréviation de `microalg.pde`) : le fichier convertissant les
  commandes graphiques de MicroAlg en leur équivalent en Processing
* `malg`, `malg-j`, `malg-rjs` et `malg-njs` : les interpréteurs de MicroAlg,
  correspondants aux implémentations de PicoLisp
* « depuis éditeur » concerne par exemple [SciTE](doc.html#scite)
* web IDE : interface permettant de manipuler MicroAlg depuis un navigateur
* FEP : Fenêtre Externe Processing, la sortie graphique classique de
  Processing en version Java

### Composants

Cette section explique les relations entre les différents composants de
MicroAlg et les composants sur lequels elle repose.

MicroAlg est un langage embarqué dans un langage de type
<a href="http://fr.wikipedia.org/wiki/Lisp" class="wp">Lisp</a>, nommé
<a href="http://picolisp.com/" class="offi">PicoLisp</a>.
Ce dernier est implémenté au moins avec trois langages, C+ASM, Java et
JavaScript.

* En C+ASM, c’est la version dite *officielle*
  d’[Alexander Burger](http://software-lab.de/).
* En Java, c’est l’implémentation nommée Ersatz et réalisée par le créateur de
  PicoLisp lui-même.
* En JavaScript, c’est l’implémentation nommée EmuLisp, réalisée par
  [Jon Kleiser](http://folk.uio.no/jkleiser/), dont je suis quasiment le seul
  utilisateur, et que je maintiens dans un
  [dépôt semi-officiel](https://github.com/grahack/emulisp).

Chaque implémentation posséde un programme principal, nommés respectivement
`pil`, `pil-j`, `pil-rjs` et `pil-njs`. Ces programmes ont deux missions :

* lancés sans argument, ils offrent un interpréteur interactif,
* lancés avec un nom de fichier en argument, ils interprètent ce fichier et
  passent en mode interactif, sauf si on les arrête avant.

Attention, `pil-j` n’est pas le nom officiel de l’exécutable d’Ersatz (c’est
`pil`). De plus, les versions officielles et semi-officielles d’EmuLisp n’ont
pas de `pil-Xjs`. `pil-rjs` et `pil-njs` n’existent (pour l’instant) que dans
MicroAlg.

Concernant les commandes graphiques, voir la section
[Communication avec Processing](#communicationavecprocessing).

### Interpréteurs

MicroAlg offre les programmes `malg`, `malg-j`, `malg-rjs` et `malg-njs`, qui
correspondent à leur `pil*` respectif. Ils ont les mêmes missions que leurs
homologues, à ces différences près :

* ils chargent `microalg.l`, le cœur du projet MicroAlg, où les commandes du
  langage sont définies ;
* ils n’acceptent qu’un argument : le fichier à exécuter ;
* ils n’entrent pas en mode interactif si un fichier est exécuté.

### Performances

Concernant les performances, la commande [`Millisecondes`](#sym-Millisecondes)
nous permet d’avoir les valeurs suivantes (sur la machine de développement du
patron, et sans moyenne sur plusieurs exécutions) :

    $ malg exemples/test_millisecondes.malg
    MicroAlg (PicoLisp)
    "39 millisecondes écoulées avant l’exécution de la première ligne."
    "Nous en sommes à 48 millisecondes après 500 Ajouter_a."
    "Soit 9 millisecondes pour 2ème la boucle."
    "Nous en sommes à 60 millisecondes après 500 autres Ajouter_a."
    "Soit 12 millisecondes pour 2ème la boucle."

    $ malg-njs exemples/test_millisecondes.malg
    MicroAlg (NodeJS + EmuLisp)
    "41 millisecondes écoulées avant l’exécution de la première ligne."
    "Nous en sommes à 181 millisecondes après 500 Ajouter_a."
    "Soit 140 millisecondes pour 2ème la boucle."
    "Nous en sommes à 289 millisecondes après 500 autres Ajouter_a."
    "Soit 108 millisecondes pour 2ème la boucle."

    $ malg-j exemples/test_millisecondes.malg
    MicroAlg (Ersatz)
    "211 millisecondes écoulées avant l’exécution de la première ligne."
    "Nous en sommes à 371 millisecondes après 500 Ajouter_a."
    "Soit 160 millisecondes pour 2ème la boucle."
    "Nous en sommes à 454 millisecondes après 500 autres Ajouter_a."
    "Soit 83 millisecondes pour 2ème la boucle."

    $ malg-rjs exemples/test_millisecondes.malg
    MicroAlg (RhinoJS + EmuLisp)
    "748 millisecondes écoulées avant l’exécution de la première ligne."
    "Nous en sommes à 1861 millisecondes après 500 Ajouter_a."
    "Soit 1113 millisecondes pour 2ème la boucle."
    "Nous en sommes à 2748 millisecondes après 500 autres Ajouter_a."
    "Soit 887 millisecondes pour 2ème la boucle."

En résumé :

* La version avec PicoLisp (`malg`) est de loin la plus rapide. Attention,
  elle ne peut travailler qu’avec les nombres entiers.
* Ensuite vient la version NodeJS+EmuLisp (`malg-njs`), qui démarre très vite
  et est sensiblement aussi rapide que la version Ersatz (`malg-j`).
* La version Ersatz (`malg-j`), qui est sans doute longue à démarrer à cause de
  Java (sans compter le démarrage de Java lui-même, qui n’est pas mesuré),
  peut rattraper la précédente version à moyen terme. Attention, elle ne peut
  travailler qu’avec les nombres entiers.
* Pour finir, la version Rhino+EmuLisp (`malg-rjs`) est bonne dernière. En
  effet, elle est à la fois pénalisée par Java et par l’interprétation avec
  JavaScript. Néanmoins, elle permet de travailler avec les nombres flottants
  avec le minimum d’installation de la part de l’utilisateur.

## Intégrations

MicroAlg s’intègre à d’autres systèmes. Pour l’instant, à part l’intégration
avec des éditeurs de texte, MicroAlg s’intègre uniquement avec Blockly,
mais il est prévu de travailler sur Mario, NetLogo, GeoGebra, GeoTortue…

### Navigateur

MicroAlg est utilisable dans tous les navigateurs récents. Il est en effet
possible d’incorporer des *échantillons interactifs* dans une page web.

On en trouve sur le site officiel :

* [la page d’accueil](http://microalg.info/#script-si-majeur-mineur),
* [l’environnement de programmation web](ide.html) (web IDE),
* [ce tutoriel](tuto.html) mais aussi les autres…

On en trouve dans [la galerie](http://galerie.microalg.info).

Et il est possible d’inclure des échantillons interactifs dans
n’importe quel site, pour peu que vous ayez des connaissances techniques
suffisantes. Voir [cette section](https://github.com/Microalg/microalg/blob/latest/INSTALL.md#user-content-installer-sur-son-site)
du document d’installation.

#### Fonctionnalités des échantillons interactifs

C’est pour l’instant le seul environnement qui permette :

* la programmation avec des blocs (voir [cette section](#blockly)),
* l’export des programmes (voir [cette section](#export)),
* l’interprétation de l’affichage en tant que code HTML ou Markdown (grâce au
  menu déroulant à droite du bouton `Exécuter`).

Notez que les [abréviations](#abrviations) sont utilisables dans les
échantillons interactifs.

### SciTE

Moins populaire que NotePad++, il est pourtant très souple et intéressant,
notamment pour mettre en place un nouveau langage.

#### Exécution

`F5` pour lancer le programme. Si c’est un nouveau fichier, il faudra tout
d’abord l’enregistrer, sans oublier l’extension `.malg`.

Par défaut, c’est `malg-rjs` qui est utilisé pour l’interprétation (voir la
section [architecture](#architecture)). Vous pouvez changer cette valeur en
allant dans le menu `View` puis `Parameters` (`SHIFT`+`F8` avec Windows).

La sortie apparaît dans le panneau de droite. Ce panneau sert aussi à interagir
avec le programme. Les valeurs demandées par le programme doivent y être tapées.

#### Panneau de sortie

* S’il est caché, il suffit de tirer la poignée à la souris.
* Si vous le trouvez encombré, vous pouvez supprimer son contenu comme si
  vous éditiez un fichier.
* Pour changer le focus de panneau, utiliser `CTRL`+`F6`.

**Bug connu** (si vous utilisez autre chose que Windows) : pas moyen de faire
en sorte que `(Demander)` attende l’utilisateur.

#### Abréviations avec SciTE

Voir [cette section](#abrviation).

#### Problèmes connus

##### Pas de réaction

Si SciTE ne réagit pas, c’est peut-être parce que le précédent programme ne
s’est pas terminé correctement. Dans ce cas, plusieurs solutions :

* taper `(bye)` dans le panneau de droite, après le `?` ou le `:` ;
* cliquer sur `Tools` puis `Stop Executing` ;

puis réessayer. Attention, si vous utilisez la seconde méthode, un processus
`java.exe` peut continuer de tourner.

##### Unable to access jarfile

Merci d’éviter les espaces dans les différents chemins.

### Vim

Voici ce que vous pouvez mettre dans votre `.vimrc` si vous avez un fond
sombre. Si vous avez un fond clair, dîtes-moi ce qui fonctionne en envoyant
une copie d’écran.

    let g:lisp_rainbow = 1
    " Les opérateurs +-*/><= doivent rester blancs.
    hi def lispFunc   ctermfg=grey
    " Les textes en vert discret.
    hi def lispString ctermfg=darkgreen
    " Les parenthèses.
    hi def hlLevel0   ctermfg=darkred
    hi def hlLevel1   ctermfg=brown
    hi def hlLevel2   ctermfg=yellow
    hi def hlLevel3   ctermfg=green
    hi def hlLevel4   ctermfg=cyan
    hi def hlLevel5   ctermfg=blue
    hi def hlLevel6   ctermfg=darkmagenta

### Blockly

C’est un système de blocs à glisser et déposer, très souple, utilisé ici pour
rédiger des programmes de façon visuelle. Blockly ne peut s’utiliser qu’au
travers d’un navigateur, mais une connexion à Internet n’est pas obligatoire,
sauf pour l’installation (voir
[l’installation hors ligne pour Windows](https://github.com/Microalg/Microalg/blob/latest/INSTALL.md#hors-ligne)
ou [l’installation hors ligne pour les autres OS](https://github.com/Microalg/Microalg/blob/latest/INSTALL.md#hors-ligne-1)).

Voir [le site officiel](https://code.google.com/p/blockly/) et
[les démos](https://blockly-demo.appspot.com/static/apps/index.html) de Blockly.

#### Blocs et code textuel

Dans le cas où vous avez accès à la fois aux blocs et au code textuel, le code
textuel est mis à jour à chaque modification faite sur les blocs.

Inversement, il est possible de reconstituer les blocs correspondant au code
textuel avec `Ctrl`+`Shift`+`B` depuis l’éditeur textuel.

#### Bloc Programme

Le bloc `Programme` ne fait rien en lui-même, mais seuls les blocs contenus
dans le bloc `Programme` seront pris en compte.

#### Nombres avec Blockly

Il faut taper un nombre dans un bloc nombre, sinon la valeur par défaut est 0.

Voir aussi [cette section](#nombre).

#### Textes avec Blockly

Il faut taper du texte dans un bloc de texte, sinon la valeur par défaut est
le texte vide `""`.

Voir aussi [cette section](#texte).

#### Opérations avec Blockly

Un même bloc permet d’obtenir différentes opérations. Pour choisir, cliquer sur
le menu déroulant, qui contient par défaut l’opération `Somme`.

**Attention** : c’est le nom du résultat des opérations qui est affiché dans le
bloc et non le symbole de l’opération :

* Somme pour +,
* Différence pour -,
* Produit pour ×,
* Quotient pour ÷,
* Reste pour %,
* Puissance pour ^.

Voir aussi les commandes 
[`+`](#sym-+), [`-`](#sym--), [`*`](#sym-*), [`/`](#sym-/), [`%`](#sym-%) et
[`^`](#sym-^).

#### Comparaisons avec Blockly

Un même bloc permet d’obtenir différentes comparaisons. Pour choisir, cliquer sur
le menu déroulant, qui contient par défaut la comparaison `=`.

Voir aussi les commandes 
[`=`](#sym-=), [`=/`](#sym-=/), [`<`](#sym-<), [`>`](#sym-\>), [`<=`](#sym-<=)
et [`>=`](#sym->=).

#### Blocs manquants

Certaines commandes de langage MicroAlg n’ont pas encore de bloc.

* `1000Cosinus` et `1000Sinus`, `Ajouter_a` et `Retirer_de` (à venir)
* `Aide` (délicat car prend en paramètre des commandes avec ou sans retour)
* `Definir` et `Retourner` (faisable mais il faut distinguer les commandes
  retournant une valeur des autres)
* `Exemples`, `?` et `Tester` (d’un niveau assez avancé pour considérer que les
  utilisateur utiliseront du code textuel, ce qui est aussi le cas pour
  `Definir` et `Retourner`)

#### Passer des blocs au texte

* Les blocs de la catégorie Valeurs, sauf Liste, ne s’écrivent pas
  avec des parenthèses.
* Les autres blocs, qu’ils aient ou non une prise sur la gauche,
  s’écrivent : `(nom_du_bloc … …)` où les pointillés sont à remplacer par des
  valeurs ou d’autres commandes.
    * Avoir la [liste des commandes](#listedessymbolesprdfinis) sous les yeux
      est donc bien pratique.
    * Même les opérations et les comparaisons sont à écrire `(+ 2 2)` ou
      `(< 0 1)`.
    * Opérations sur les nombres :
        * `Somme` correspond à la commande `+`.
        * `Différence` correspond à la commande `-`.
        * `Produit` correspond à la commande `*`.
        * `Quotient` correspond à la commande `/`.
        * `Reste` correspond à la commande `%`.
        * `Puissance` correspond à la commande `^`.
* Si vous ne tapez pas très vite, des [abréviations](#abrviations) peuvent
  vous aider.

## Sortie graphique

Pour sa sortie graphique, MicroAlg utilise
<a href="http://processing.org/" class="offi">Processing</a> et
<a href="http://processingjs.org/" class="offi">Processing.js</a>.

**Attention** : Pour l’instant, les programmes qui permettent une sortie
graphique ne peuvent pas être codés avec les blocs de Blockly.

### Mise en place de la sortie graphique

Pour l’installation de Processing sur votre plate-forme, se reporter à
[cette page](https://github.com/Microalg/microalg/blob/latest/INSTALL.md).
Cette installation est nécessaire uniquement si vous utilisez MicroAlg avec
l’éditeur de texte SciTE.
Processing n’a pas besoin d’être installé si vous utilisez la galerie, et est
fourni dans l’archive si vous installez MicroAlg sur votre site.

Pour faire apparaître la fenêtre graphique :

* Sur la galerie, ajouter `"processing": true` à la configuration de votre
  échantillon (voir
  [cette page](http://galerie.microalg.info/microalg:config_echantillons)).
* Si vous utilisez MicroAlg avec l’éditeur de texte SciTE, lancer
    * `start_processing.bat` (Windows)
    * `start_processing.sh` (le reste)
* Si vous avez installé MicroAlg sur votre site, ajouter `processing: true` à
  l’appel de `inject_microalg_editor_in`.

### Utilisation des commandes graphiques

Vous pourriez avoir besoin d’avoir lu la section précédente :
[mise en place de Processing](#miseenplacedelasortiegraphique).

Avant de lire cette partie, assurez-vous d’avoir suivi le
[tutoriel graphique](tuto_graphique.html). Si vous avez besoin de lire la
documentation d’une commande précise, une liste des symboles prédéfinis est
disponible [ici](#listedessymbolesprdfinis).

**Attention** : les nombres flottants ne sont pas disponibles si vous
lancez les commandes avec SciTE configuré sur `malg` ou `malg-j`.

#### Généralités

La fenêtre graphique est un carré de 600 pixels de côté. L’origine des
coordonnées est dans le coin en bas à gauche.

Les commandes dédiées à la sortie graphique sont :

* formes géométriques
    * `Segment`
    * `Cercle` (et non `Disque` par soucis de cohérence avec les autres formes
      qui n’ont pas de nom pour les formes correspondantes pleines)
    * `Ellipse`
    * `Rectangle`
    * `Triangle`
* couleurs
    * `Contour`
    * `Remplissage`
* épaisseur
    * `Epaisseur` (sans accent sur le E)
* pour la tortue : `BC` `LC` `AV` `TD` `TG` (voir plus loin la
  [section tortue](#tortue))
* remise à zéro : `RAZ`

Elles sont chacunes documentées en profondeur dans la
[liste des symboles prédéfinis](#listedessymbolesprdfinis).

#### Couleurs

Les deux commandes qui permettent de gérer les couleurs sont `Contour` et
`Remplissage`, à qui on passe une couleur en paramètre. À partir de la ligne
où une de ces commandes est utilisée, toutes les formes seront dessinées avec
les couleurs choisies, jusqu’à un autre appel à `Contour` ou à `Remplissage`.

Une couleur est une liste de trois ou quatre entiers pouvant aller de 0 à 255.
Les trois premiers correspondent au système <a class="wp"
href="https://fr.wikipedia.org/wiki/Rouge_vert_bleu">système RVB</a>, et
le quatrième correspond au <a class="wp"
href="https://fr.wikipedia.org/wiki/Canal_alpha">canal alpha</a> (opacité). 
En résumé :

* le premier entier définit la quantité de rouge,
* le deuxième de vert,
* le troisième de bleu,
* le quatrième (facultatif) définit l’opacité de la couleur. Une opacité de
  zéro rendra la couleur totalement transparente.

Quelques exemples :

* Le vert pur s’écrira `(Liste 0 255 0)`.
* Le rouge pur semi-transparent s’écrira `(Liste 255 0 0 127)`

#### Épaisseur

L’épaisseur du tracé est gérée avec la commande `Epaisseur` (sans accent) à qui
on passe un entier en paramètre. C’est le nombre de pixel de la largeur des
traits.  À partir de la ligne cette commande est utilisée, toutes les formes
seront dessinées avec l’épaisseur choisie, jusqu’à un autre appel à `Epaisseur`.

### Communication avec Processing

Cette section est plutôt technique et est destinée à celles et ceux qui veulent
comprendre le fonctionnement MicroAlg.

Même si l’export du code MicroAlg vers du code Processing est possible (voir
la section [Fonctionnement de l’export](#fonctionnementdelexport)), la sortie
graphique n’utilise pas de conversion. Les commandes graphiques envoient des
informations à un sketch Processing, qui réalise les affichages en conséquence.

En n’utilisant que du code compatible Processing/Processing.js, MicroAlg
peut n’utiliser qu’un seul fichier `.pde` pour les deux modes :
`pde/microalg/microalg.pde`.

Plus précisément, par exemple avec l’instruction `(Epaisseur 5)` :

1. La commande `Epaisseur` envoie `"Epaisseur 5"` à la commande
   `!processing` ([voir le code](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg.l#L1794)).
1. La commande `!processing` centralise la communication avec le sketch et
   envoie à son tour "Epaisseur 5" au sketch `pde/microalg/microalg.pde`
   ([voir le code](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/microalg.l#L1725)) :
    * via TCP/IP dans la version Java avec
      [`connect`](http://www.software-lab.de/doc/refC.html#connect)
      côté PicoLisp/Ersatz, et
      [`Client`](https://processing.org/reference/libraries/net/Client.html)
      et [`Server`](https://processing.org/reference/libraries/net/Server.html)
      côté Processing,
    * via un bête `eval(interact(…` dans la version JavaScript.
1. Dans `pde/microalg/microalg.pde`, la chaîne `"Epaisseur 5"` est décomposée
   en commande et arguments, et un switch géant sur le nom de la commande gère
   la commande Processing finale à exécuter
   ([voir le code](https://github.com/Microalg/microalg/blob/f229f05a696c132cd58e07d31d83ffd9def81c65/pde/microalg/microalg.pde#L80)).

## Tortue

L’affichage de la tortue est bien sûr graphique. Il est donc indispensable
d’avoir lu la section sur la [mise en place](#miseenplacedelasortiegraphique)
de la sortie graphique pour pouvoir utiliser la tortue.

Les commandes sont :

* `AV` pour avancer la tortue d’un certain nombre de pixels,
* `TD` et `TG` pour faire tourner la tortue sur elle-même (angle en degrés),
* `LC` et `BC` pour lever et baisser le crayon (la tortue ne laissera pas de
  trace si son crayon est levé),
* `RAZ` pour effacer le dessin et repositionner la tortue au centre et vers le
  haut.

Voir [cet exemple](tuto_graphique.html#tortue) dans le tutoriel graphique.

## Remerciements

<p id="testeurs">Relecteurs, testeurs et commentateurs :</p>

* [Charlotte Truchet](http://www.normalesup.org/~truchet/) pour ses précieux
  encouragements au tout début du projet.
* le groupe « **Utilisation des langages fonctionnels dans l’enseignement** » de
  [l’IREM de Nantes](http://www.irem.sciences.univ-nantes.fr/recherche/recherche2013-2014.html)
* Quentin S.
* Clément G. (8 ans au moment du test)
* [Nathann Cohen](https://www.lri.fr/membre.php?mb=1727)
* quelques collègues des listes **SIO Maths** et **IDE Gest**
* Samuel B.
* Jéjé
* David F.
* Luc V. et Piotr Allarski
* Les SIO1 de 2014-2015, cobayes grandeur nature, pour leur attitude
  (globalement) positive et leurs remarques (globalement) intéressantes.
* [Mael Cadorel](http://mcadorel.github.io) pour ses relectures attentives.
* Cédric Floquet
* [Thomas Moyse](https://github.com/t8g)
* Groupoid Kid, pour son brute-testing efficace et ses suggestions.
* [Colin de la Higuera](http://pagesperso.lina.univ-nantes.fr/~cdlh/), pour
  ses questions, ses encouragements et ses suggestions.
* [Annie Tartier](http://www.univ-nantes.fr/tartier-a), co-auteure de
  [Premiers Pas En Algorithmique](http://www.eyrolles.com/Accueil/Livre/informatique-premiers-pas-en-algorithmique-de-l-enonce-a-la-solution-exercices-corriges-niveau-a-9782340001251),
  pour ses tests en profondeur et ses suggestions pertinentes.
* [Jean-François Cauche](https://secouezlecours.wordpress.com/) pour ses
  encouragements, pour son accueil sur son blog et pour un de ses articles, qui
  m’a inspiré la commande `...`.
* Bérenger Recoules ([blog](https://berengerrecoules.wordpress.com/)
  [portfolio](http://b2renger.github.io/)) pour ses idées autour du travail
  avec Processing.
* Flo Carré pour ses remarques sur l’opacité dans le tuto graphique.
* Florence Cousin pour la découverte du bug où le rayon était en fait le diamètre.
* [Jean-Philippe Rouquès](https://www.librairiedialogues.fr/personne/jean-philippe-rouques/947072/)
  pour son intérêt, ses relectures et ses suggestions pleines de bon sens.
* Alix et Noham, tout juste sept ans au moment des premiers tests du tutoriel
  de la tortue.
* Mathis et Tiphaine, pour la deuxième vague des tests du tutoriel de la tortue.
* Les SIO1 de 2015-2016, pour leurs essais de programmes parfois brutaux, mais
  parfois pas tant que ça, qui ont permis de déceler des bugs ou des messages
  d’erreur peu clairs.
* Caro.
* Pierre Mezerette, pour son intérêt et sa proposition d’utiliser MicroAlg au
  cours de ses interventions, et pour avoir déniché quelques bugs dans l’export.
* [Guillaume Blin](http://www.labri.fr/perso/gblin/), pour son intérêt et ses
  idées autour de la mesure de la complexité des algorithmes, entre autres.
* Christine l’Hurriec, pour avoir réclamé que pour chaque message d’erreur
  affiché dans l’interface web, il y ait un lien vers une explication spécifique
  [dans la documentation](#erreursnumrotes).
* [Laurent Robin](https://sites.google.com/site/mathinfolr/Home/algorithmique),
  pour ses relectures, ses suggestions et son endurance dans nos discussions !

<p id="modeles">Modèles et contre-modèles :</p>

* **Logo** &mdash; [article Wikipedia](http://fr.wikipedia.org/wiki/Logo_%28langage%29)
* **Scratch** &mdash; [article Wikipedia](http://fr.wikipedia.org/wiki/Scratch_%28langage%29)
* **Algobox**, par Pascal Brachet &mdash; [site officiel](http://www.xm1math.net/algobox/)
* **Java’s Cool** &mdash; [site officiel](http://javascool.gforge.inria.fr)
* **Blockly** &mdash; [page expliquant certaines décisions](https://code.google.com/p/blockly/wiki/Language),
  [page expliquant quelques erreurs à éviter](https://developers.google.com/blockly/hacking/mistakes)
* **PicoLisp**, par Alexander Burger &mdash; [site officiel](http://picolisp.com)
* **Scheme**, par Sussman et Steele &mdash;
  [article Wikipedia](http://fr.wikipedia.org/wiki/Scheme)
* **SICP**, par Abelson et Sussman &mdash;
  [article Wikipedia](http://en.wikipedia.org/wiki/Structure_and_Interpretation_of_Computer_Programs)
  (en anglais)
* **Arc**, par [Paul Graham](http://fr.wikipedia.org/wiki/Paul_Graham) &mdash;
  [site officiel](http://arclanguage.org/)

<p id="libs">Bases techniques et bibliothèques :</p>

* **PicoLisp** et **Ersatz**, par Alexander Burger &mdash; [site officiel](http://picolisp.com)
* **EmuLisp**, par Jon Kleiser &mdash; [GitHub](https://github.com/Grahack/EmuLisp)
* **int.js**, par Roman Shtylman &mdash; [GitHub](https://github.com/defunctzombie/int/)
* **jQuery**, par John Resig et la communauté &mdash; [site officiel](http://jquery.com/)
* **jQuery-term**, par Jakub T. Jankiewicz &mdash; [site officiel](http://terminal.jcubic.pl/)
* **parenedit** &mdash; [basé sur cette réponse](http://stackoverflow.com/questions/14043727/auto-resizing-textarea-is-bumpy-highlighting-parentheses)
* **tabIndent**, par Julian Lam &mdash; [site officiel](http://julianlam.github.io/tabIndent.js/)
* **Blockly**, par Neil Fraser et la communauté &mdash; [site officiel](http://code.google.com/p/blockly/)
* **SciTE**, par Neil Hodgson &mdash; [site officiel](http://www.scintilla.org/SciTE.html)
* **svg-tree-drawer**, par Weston Ruter &mdash; [GitHub](https://github.com/westonruter/svg-tree-drawer/)

<p id="annexes">Pour les parties annexes du site :</p>

* [la galerie](http://galerie.microalg.info/) est réalisée avec
<a href="http://dokuwiki.org/" class="offi">Dokuwiki</a>
  (et utilise [ce plugin](https://github.com/Microalg/dokuwiki-plugin-microalg)),
* [les questions/réponses](http://qr.microalg.info/) avec
  <a href="http://askbot.org/" class="offi">AskBot</a>.

<p id"chlamy"><a href="http://fr.wikipedia.org/wiki/Chlamydomonas_reinhardtii"
class="wp">Cette algue</a> a, sans le savoir, contribué à donner à ce projet un
nom digne de ce nom.</p>

<br> <br> <br> <br> <br> <br> <br> <br> <br> <br>
<br> <br> <br> <br> <br> <br> <br> <br> <br> <br>
-->
        </script>
        <script>
        var scripts = document.getElementsByTagName('script');
        for (var i = 0; i < scripts.length; i++){
            var script = scripts[i];
            if (script.type != 'text/markdown') continue;
            var md = script.innerHTML.replace(/^\s<!--*/, '')
                .replace(/-->\s*$/, '');
            var markup = new Showdown.converter().makeHtml(md);
            document.write(markup);
        }
        </script>
        <script>
            var syms_as_list = EMULISP_CORE.eval("symboles").toString();
            var syms_as_strings = syms_as_list
                .slice(1, -1) // les parenthèses
                .split(' ')
                .map(cleanTransient);
            // TOC
            var toc = $('<div/>').appendTo($('#syms'));
            $.each(syms_as_strings, function(i, sym) {
                var span = $('<span/>').appendTo(toc);
                var code = $('<code/>').appendTo(span);
                $("<a/>").attr("href", "#sym-" + sym)
                    .attr("title", "Voir la doc de la commande " + sym)
                    .html(sym)
                    .appendTo(code);
                span.html((i==0? "" : " ") + span.html());
            });
            // Defs
            var defs = $('<div/>').appendTo($('#syms'));
            var dl = $('<dl/>').appendTo(defs);
            $.each(syms_as_strings, function(i, sym) {
                $('<a/>').attr("name", "sym-" + sym).appendTo(dl);
                var dt = $('<dt/>').appendTo(dl);
                var span = $('<span/>').appendTo(dt);
                $('<a/>').attr("href", "#sym-" + sym).html(sym).appendTo(span);
                var sym_doc = EMULISP_CORE.eval("(get '" + sym + " 'doc)").toString();
                sym_doc = cleanTransient(sym_doc);
                sym_doc = new Showdown.converter().makeHtml(sym_doc);
                $("<dd/>").html(sym_doc).appendTo(dl);
                // corps fonction $("<dd/>").html(lisp_sym.props.car.car.name).appendTo(dl);
            });
        </script>
        <script>
            $().showUp('.navbar', {
                upClass: 'navbar-show',
                downClass: 'navbar-hide'
            });
        </script>
    </body>
</html>
